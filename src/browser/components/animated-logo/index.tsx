import type { ComponentProps } from "react";
import { motion as m, MotionConfig, stagger } from "motion/react";

const variants = {
  initial: {
    y: 50,
    opacity: 0,
    filter: "blur(30px) invert(1)",
  },
  animate: {
    y: 0,
    opacity: 1,
    filter: "blur(0px) invert(1)",
  },
};

export const AnimatedLogo: React.FC<
  ComponentProps<typeof m.svg> & { isAnimating: boolean; color: string }
> = ({ isAnimating, color, ...props }) => {
  return (
    <m.svg
      xmlns="http://www.w3.org/2000/svg"
      height={176}
      viewBox="-50 -50 293 176"
      fill="none"
      {...props}
    >
      <MotionConfig transition={{ duration: 0.3 }}>
        <m.g
          fill={color}
          initial="initial"
          animate={isAnimating ? "animate" : "initial"}
          transition={{ delayChildren: stagger(0.05, { startDelay: 0.7 }) }}
        >
          <m.path
            variants={variants}
            d="M 33.7411 49.549 V 27.4091 C 33.6972 26.708 33.3467 26.3575 32.6894 26.3575 H 0 V 17.9222 H 32.6784 C 33.2043 17.9222 33.511 17.8784 33.5986 17.7907 C 33.6863 17.7031 33.7301 17.3964 33.7301 16.8705 V 9.4869 C 33.7301 8.8296 33.3795 8.4791 32.6784 8.4353 H 0 V -0 H 31.6268 C 32.3279 -0 32.9085 0.0548 33.3686 0.1643 C 33.8287 0.2739 34.2998 0.5697 34.7818 1.0517 L 41.1027 7.3726 C 41.5848 7.8547 41.8805 8.3257 41.9901 8.7858 C 42.0996 9.2459 42.1544 9.8265 42.1544 10.5276 V 11.5793 C 42.1544 12.2804 42.0339 12.9268 41.7929 13.5183 C 41.5519 14.1099 40.9713 14.8658 40.0511 15.797 L 33.7301 21.0663 C 33.4234 21.373 33.27 21.7016 33.27 22.0522 C 33.27 22.4466 33.4234 22.819 33.7301 23.1696 L 40.0511 28.4389 C 40.9713 29.3591 41.5519 30.115 41.7929 30.7175 C 42.0339 31.3091 42.1544 31.9554 42.1544 32.6565 V 44.2578 C 42.1544 45.3532 41.8805 46.3721 41.3328 47.3251 C 40.785 48.2672 40.0073 49.0012 38.9884 49.5271 L 18.952 57.9623 C 17.6374 58.6196 16.2242 58.9702 14.7343 59.014 H 0 V 50.5787 H 32.6784 C 33.3795 50.5349 33.7301 50.1844 33.7301 49.5271 Z"
          />
          <m.path
            variants={variants}
            d="M 83.5449 17.0347 C 84.005 17.1442 84.4761 17.44 84.9581 17.922 L 91.2791 24.243 C 91.7611 24.725 92.0569 25.1961 92.1664 25.6562 C 92.276 26.1163 92.3307 26.6969 92.3307 27.398 V 44.2685 C 92.3307 45.364 92.0569 46.3828 91.5091 47.3359 C 90.9614 48.278 90.1836 49.012 89.1648 49.5378 L 69.1283 57.9731 C 67.8137 58.6304 66.4005 58.981 64.9107 59.0248 H 59.6414 C 58.9402 59.0686 58.5897 59.4192 58.5897 60.0764 V 75.8953 H 50.1544 V 16.8704 H 81.7812 C 82.4823 16.8704 83.0629 16.9251 83.523 17.0347 Z M 59.6633 50.6114 H 82.8548 C 83.5121 50.6114 83.8626 50.2609 83.9064 49.5598 V 26.3683 C 83.9064 25.711 83.5559 25.3604 82.8548 25.3166 H 59.6633 C 58.9621 25.3604 58.6116 25.711 58.6116 26.3683 V 49.5598 C 58.6554 50.2609 59.006 50.6114 59.6633 50.6114 Z"
          />
          <m.path
            variants={variants}
            d="M 108.766 0 V 15.8189 C 108.766 16.52 109.117 16.8705 109.818 16.8705 H 142.496 V 25.3058 H 109.818 C 109.117 25.3058 108.766 25.6563 108.766 26.3575 V 49.549 C 108.81 50.2501 109.16 50.6006 109.818 50.6006 H 142.496 V 59.0359 H 127.74 C 126.25 58.9921 124.837 58.6415 123.522 57.9842 L 103.486 49.549 C 102.478 49.0231 101.7 48.2892 101.152 47.347 C 100.605 46.4049 100.331 45.3861 100.331 44.2797 V 0 Z"
          />
          <m.path
            variants={variants}
            d="M 159.227 33.445 C 159.424 33.6422 159.676 33.7408 159.983 33.7408 H 182.123 C 182.824 33.7408 183.405 33.7956 183.865 33.9051 C 184.325 34.0147 184.796 34.3105 185.278 34.7925 L 191.599 41.1135 C 192.081 41.5955 192.377 42.0446 192.486 42.4609 C 192.596 42.8772 192.651 43.4797 192.651 44.2685 V 48.4861 C 192.651 49.1872 192.596 49.7678 192.486 50.2279 C 192.377 50.688 192.081 51.1591 191.599 51.6411 L 185.278 57.9621 C 184.796 58.4441 184.325 58.7399 183.865 58.8494 C 183.405 58.959 182.824 59.0137 182.123 59.0137 H 150.496 V 50.5785 H 183.175 C 183.832 50.5785 184.182 50.2279 184.226 49.5268 V 43.2058 C 184.226 42.5486 183.876 42.198 183.175 42.1542 H 161.035 C 160.334 42.1542 159.753 42.0994 159.293 41.9899 C 158.833 41.8803 158.362 41.5845 157.88 41.1025 L 151.559 34.7815 C 150.901 34.1242 150.551 33.0726 150.507 31.6156 C 150.507 30.4763 150.781 29.4356 151.329 28.5153 C 151.876 27.5951 152.654 26.8721 153.662 26.3353 L 173.699 17.9001 C 175.013 17.2428 176.426 16.8922 177.916 16.8484 H 192.672 V 25.2837 H 159.994 C 159.687 25.2837 159.435 25.3822 159.238 25.5794 S 158.942 26.0286 158.942 26.3353 V 32.6563 C 158.942 32.963 159.041 33.215 159.238 33.4122 Z"
          />
        </m.g>
      </MotionConfig>
    </m.svg>
  );
};
